#!/usr/bin/env bash
set -e

# Colors
GREEN="\033[1;32m"
YELLOW="\033[1;33m"
CYAN="\033[1;36m"
RESET="\033[0m"

# Script start
echo -e "${CYAN}=== Setting up my dotfiles ===${RESET}"

BASEDIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
cd "$BASEDIR"

mkdir -p ~/.config

link_file() {
    local src="$1"
    local dest="$2"
    echo -e "${YELLOW}Linking${RESET} $src â†’ $dest"
    ln -sf "$src" "$dest"
}

link_file "${PWD}/bashrc" ~/.bashrc
link_file "${PWD}/zshrc" ~/.zshrc
link_file "${PWD}/gitconfig" ~/.gitconfig

link_file "${PWD}/nvim" ~/.config/nvim
link_file "${PWD}/kitty" ~/.config/kitty
link_file "${PWD}/hypr" ~/.config/hypr
link_file "${PWD}/waybar" ~/.config/waybar
link_file "${PWD}/tofi" ~/.config/tofi
link_file "${PWD}/wlogout" ~/.config/wlogout

sudo cp texclean /usr/local/bin/
sudo cp texexam /usr/local/bin/
sudo cp mkcircuit /usr/local/bin/

if command -v hyprctl >/dev/null; then
    echo -e "${YELLOW}Reloading Hyprland...${RESET}"
    hyprctl reload
fi

echo -e "${GREEN}âœ” All dotfiles linked successfully!${RESET}"
echo -e "${CYAN}Enjoy your freshly configured environment ðŸš€${RESET}"



